

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>README &mdash; ODA-Component Accelerator v1alpha2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Component Operator" href="componentOperator/modules.html" />
    <link rel="prev" title="Open Digital Architecture - Component Accelerator" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ODA-Component Accelerator
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="componentOperator/modules.html">Component Operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="apiOperatorSimpleIngress/modules.html">API Operator: SimpleIngress</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ODA-Component Accelerator</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>README</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/README_link.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="readme">
<h1>README<a class="headerlink" href="#readme" title="Permalink to this headline">¶</a></h1>
<p># Reference Implementation Kubernetes Controllers</p>
<p>The ODA Reference implamantation contains Kubernetes Controllers that can manage the ODA Component and ODA API resources. The  Custom Resource Definitions (CRDs) that these controllers manage are installed as part of the canvas helm charts [tmforum-oda/oda-canvas-charts](<a class="reference external" href="https://github.com/tmforum-oda/oda-canvas-charts">https://github.com/tmforum-oda/oda-canvas-charts</a>). The controller/CRD combination is refered to as a Kubernetes Operator (see <a class="reference external" href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">https://kubernetes.io/docs/concepts/extend-kubernetes/operator/</a>)</p>
<p>The ODA Component YAML files are created by following the instructions in <a class="reference external" href="https://github.com/tmforum-oda/oda-ca-docs/tree/master/ODAComponentDesignGuidelines.md">https://github.com/tmforum-oda/oda-ca-docs/tree/master/ODAComponentDesignGuidelines.md</a></p>
<p>The Reference Implementaiton Controllers are created using the KOPF (Kubernetes Operator Pythonic Framework - <a class="reference external" href="https://github.com/zalando-incubator/kopf">https://github.com/zalando-incubator/kopf</a>). This provides a simple framework in python for creating Operators.</p>
<p>## Installation</p>
<p>For the production environments, the controller and CRDs (Custom Resource Definitions) are installed by Helm charts in the [tmforum-oda/oda-canvas-charts](<a class="reference external" href="https://github.com/tmforum-oda/oda-canvas-charts">https://github.com/tmforum-oda/oda-canvas-charts</a>) repository. The individual contollers can be run in developer mode (see readme in each sub-folder).</p>
<p>## Docker Images</p>
<p>The KOPF controller source code is in sub-folders. At present there is a:
1. ComponentController that manages the Component CRD. This creates API CRDs for each API a component wants to expose.
2. Two reference implementations of an API controller: You deploy one of these two options depending on your Canvas. The simplest example is the simpleIngress controller that uses a Kubernetes ingress to expose the APIs (this is only suitable for development environments as an Ingress doesn’t provide any of the standard security or throttling of a proper API Gateway). The other example is a WSO2 controller that will configure a WSO2 API gateway (that needs to be installed separately in the Canvas.
3. A SecurityController that manages the security part of the Component definition. At present the security controller configures a Keycloak identity service using roles that are defined by the component. Keycloak needs to be installed separately in the canvas.</p>
<p>For the KOPF framework controllers, we deploy these into a single Docker image. We have two docker files that deploy:
* The component controller, simpleIngress API controller and security controller into a single docker image;
* The component controller, WSO2 API controller and security controller into a single docker image.</p>
<p>The security controller also includes a separate API Listener image (that listens to partyrole events from each component). In the Canvas Helm charts the KOPF doker image and the API Listener image are deployed into a single Pod.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="componentOperator/modules.html" class="btn btn-neutral float-right" title="Component Operator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Open Digital Architecture - Component Accelerator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, TM Forum ODA-Component Accelerator project.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>